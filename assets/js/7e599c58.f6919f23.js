"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[151],{4009:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>A,contentTitle:()=>C,default:()=>x,frontMatter:()=>_,metadata:()=>S,toc:()=>I});var t=a(7462),r=a(7294),o=a(3905),l=a(6010),s=a(2466),d=a(6550),i=a(1980),p=a(7392),u=a(12);function c(e){return function(e){return r.Children.map(e,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:n,label:a,attributes:t,default:r}}=e;return{value:n,label:a,attributes:t,default:r}}))}function m(e){const{values:n,children:a}=e;return(0,r.useMemo)((()=>{const e=n??c(a);return function(e){const n=(0,p.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function b(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function h(e){let{queryString:n=!1,groupId:a}=e;const t=(0,d.k6)(),o=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,i._X)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(t.location.search);n.set(o,e),t.replace({...t.location,search:n.toString()})}),[o,t])]}function k(e){const{defaultValue:n,queryString:a=!1,groupId:t}=e,o=m(e),[l,s]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!b({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=a.find((e=>e.default))??a[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:o}))),[d,i]=h({queryString:a,groupId:t}),[p,c]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,o]=(0,u.Nk)(a);return[t,(0,r.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:t}),k=(()=>{const e=d??p;return b({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{k&&s(k)}),[k]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!b({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),i(e),c(e)}),[i,c,o]),tabValues:o}}var g=a(2389);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:n,block:a,selectedValue:o,selectValue:d,tabValues:i}=e;const p=[],{blockElementScrollPositionUntilNextRender:u}=(0,s.o5)(),c=e=>{const n=e.currentTarget,a=p.indexOf(n),t=i[a].value;t!==o&&(u(n),d(t))},m=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=p.indexOf(e.currentTarget)+1;n=p[a]??p[0];break}case"ArrowLeft":{const a=p.indexOf(e.currentTarget)-1;n=p[a]??p[p.length-1];break}}n?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},n)},i.map((e=>{let{value:n,label:a,attributes:s}=e;return r.createElement("li",(0,t.Z)({role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,key:n,ref:e=>p.push(e),onKeyDown:m,onClick:c},s,{className:(0,l.Z)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":o===n})}),a??n)})))}function w(e){let{lazy:n,children:a,selectedValue:t}=e;if(a=Array.isArray(a)?a:[a],n){const e=a.find((e=>e.props.value===t));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t}))))}function N(e){const n=k(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",f.tabList)},r.createElement(v,(0,t.Z)({},e,n)),r.createElement(w,(0,t.Z)({},e,n)))}function y(e){const n=(0,g.Z)();return r.createElement(N,(0,t.Z)({key:String(n)},e))}const E={tabItem:"tabItem_Ymn6"};function T(e){let{children:n,hidden:a,className:t}=e;return r.createElement("div",{role:"tabpanel",className:(0,l.Z)(E.tabItem,t),hidden:a},n)}const _={title:"Cops and Robbers"},C="cops-and-robbers",S={unversionedId:"resources/cops-and-robbers/index",id:"resources/cops-and-robbers/index",title:"Cops and Robbers",description:"---",source:"@site/docs/resources/cops-and-robbers/index.md",sourceDirName:"resources/cops-and-robbers",slug:"/resources/cops-and-robbers/",permalink:"/docs/resources/cops-and-robbers/",draft:!1,editUrl:"https://github.com/OddoAkbar/docs/tree/main/docs/resources/cops-and-robbers/index.md",tags:[],version:"current",frontMatter:{title:"Cops and Robbers"},sidebar:"tutorialSidebar",previous:{title:"Resources",permalink:"/docs/resources/"}},A={},I=[{value:"Installation",id:"installation",level:2},{value:"Download",id:"download",level:3},{value:"Setting up",id:"setting-up",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Integrating",id:"integrating",level:2},{value:"How to add a new Map",id:"how-to-add-a-new-map",level:2},{value:"Map file structure",id:"map-file-structure",level:3},{value:"How to add a new Map Type",id:"how-to-add-a-new-map-type",level:2},{value:"How to add new Weapons",id:"how-to-add-new-weapons",level:2},{value:"How to add a new Weapon Group",id:"how-to-add-a-new-weapon-group",level:2},{value:"How to add a new Outfit",id:"how-to-add-a-new-outfit",level:2},{value:"How to add a new Locale",id:"how-to-add-a-new-locale",level:2},{value:"Client Events",id:"client-events",level:2},{value:"<code>copsandrobbers:matchStart</code>",id:"copsandrobbersmatchstart",level:3},{value:"<code>copsandrobbers:matchFinished</code>",id:"copsandrobbersmatchfinished",level:3},{value:"<code>copsandrobbers:roundStart</code>",id:"copsandrobbersroundstart",level:3},{value:"<code>copsandrobbers:roundEnd</code>",id:"copsandrobbersroundend",level:3},{value:"<code>copsandrobbers:teamSwap</code>",id:"copsandrobbersteamswap",level:3},{value:"<code>copsandrobbers:playerFatalDamaged</code>",id:"copsandrobbersplayerfataldamaged",level:3},{value:"<code>copsandrobbers:playerRevive</code>",id:"copsandrobbersplayerrevive",level:3},{value:"<code>copsandrobbers:startSpectating</code>",id:"copsandrobbersstartspectating",level:3},{value:"<code>copsandrobbers:stopSpectating</code>",id:"copsandrobbersstopspectating",level:3},{value:"Server exports",id:"server-exports",level:2},{value:"<code>getPlayerNameCallback</code>",id:"getplayernamecallback",level:3},{value:"Server events",id:"server-events",level:2},{value:"<code>copsandrobbers:createdMatch</code>",id:"copsandrobberscreatedmatch",level:3},{value:"<code>copsandrobbers:matchFinished</code>",id:"copsandrobbersmatchfinished-1",level:3},{value:"<code>copsandrobbers:roundStart</code>",id:"copsandrobbersroundstart-1",level:3},{value:"<code>copsandrobbers:roundEnd</code>",id:"copsandrobbersroundend-1",level:3},{value:"Common errors",id:"common-errors",level:2},{value:"Error parsing script / Failed to load script",id:"error-parsing-script--failed-to-load-script",level:3},{value:"You lack the required entitlement to use cops-and-robbers",id:"you-lack-the-required-entitlement-to-use-cops-and-robbers",level:3},{value:"Failed to verify protected resource",id:"failed-to-verify-protected-resource",level:3},{value:"Credits",id:"credits",level:2}],O={toc:I},M="wrapper";function x(e){let{components:n,...r}=e;return(0,o.kt)(M,(0,t.Z)({},O,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"cops-and-robbers"},"cops-and-robbers"),(0,o.kt)("hr",null),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"A tactical team-based shooter for FiveM")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Cops and Robberts",src:a(9040).Z,width:"1920",height:"1080"})),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("h3",{id:"download"},"Download"),(0,o.kt)("p",null,"After the purchase you will receive an email from Tebex containing the instructions to download the resource."),(0,o.kt)("p",null,"Alternatively, you can go to ",(0,o.kt)("a",{parentName:"p",href:"https://keymaster.fivem.net/asset-grants"},"https://keymaster.fivem.net/asset-grants")," and download it."),(0,o.kt)("h3",{id:"setting-up"},"Setting up"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Extract the ",(0,o.kt)("inlineCode",{parentName:"p"},"cops-and-robbers.pack.zip")," file to a folder called ",(0,o.kt)("inlineCode",{parentName:"p"},"cops-and-robbers")," inside your resources folder.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add the following to your ",(0,o.kt)("inlineCode",{parentName:"p"},"server.cfg")," to start the resource."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-cfg"},"ensure cops-and-robbers\n")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"configuration"},"Configuration"),(0,o.kt)("p",null,"All the configurations for the mini-game and the matchmaking are in the file config.lua. Tweak it to best suit your needs."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'LOCALE = {\n  LANGUAGE = \'en\' -- Default language\n}\n\nGAME_CONFIG = {\n  MAX_ROUNDS = 8, -- Maximum rounds of each match\n  TIME_TO_ROUND_END_IN_MS = 1 * 60 * 1000, -- Time for the round to end giving victory to robbers\n\n  TIME_TO_DESTROY_GAME = 30 * 1000, -- Timeout to clean up a game after it finishes\n\n  DEFAULT_TIME_TO_HIDE_NOTIFICATIONS_IN_MS = 10 * 1000, -- Default time to hide notifications\n  TIME_WAITED_TO_START_SPECTATING_IN_MS = 5 * 1000, -- Time after death to start spectating a teammate\n\n  TEAM_COLORS = {\n    COPS = "#39608b",\n    ROBBERS = "#82412d"\n  } -- Team related colors\n}\n\nMATCHMAKING_CONFIG = {\n  TIME_TO_START_ROUND_IN_MS = 15 * 1000, -- Time to start the first round\n  TIMEOUT_TO_START_MATCH_IN_MS = 15 * 1000, -- Timeout to start the first round after creating a match\n\n  MAX_ITEMS_PER_PAGE = 20 -- Maximum items per page in lobby pagination\n}\n\nBUCKET_CONFIG = { -- Configuration related to FiveM routing bucket\n  POPULATION_ENABLED = false,\n  LOCKDOWN_MODE = \'strict\'\n}\n\nINPUT_CONFIG = { -- Configuration related to FiveM key mapping\n  SCOREBOARD = {\n      KEY = "tab", -- Default key\n      MAPPER = "keyboard", -- Default mapper (optional)\n  },\n  SELECT_LONG_WEAPON = {\n      KEY = "1",\n      MAPPER = "keyboard",\n  },\n  SELECT_SHORT_WEAPON = {\n      KEY = "2",\n      MAPPER = "keyboard",\n  },\n  SELECT_MELLE_WEAPON = {\n      KEY = "3",\n      MAPPER = "keyboard",\n  },\n  SPECTATE_NEXT_PLAYER = {\n      KEY = "MOUSE_LEFT",\n      MAPPER = "MOUSE_BUTTON",\n  }\n}\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"integrating"},"Integrating"),(0,o.kt)("p",null,"By design, we don't bake framework support in our scripts. All of our creations are standalone, but they can be easily integrated with the framework of your preference."),(0,o.kt)("p",null,"Here are some examples of how to integrate this script to some of the most common frameworks in the FiveM community."),(0,o.kt)(y,{mdxType:"Tabs"},(0,o.kt)(T,{value:"standalone",label:"Standalone",mdxType:"TabItem"},(0,o.kt)("p",null,"This resource is standalone by default, so you can safely download it and put it on your server.")),(0,o.kt)(T,{value:"qb",label:"QB",mdxType:"TabItem"},(0,o.kt)("p",null,"This resource is standalone, but to make the better compatibility in qb-core need some changes in others resource, some like remove default HUD, inventory, health system and others stuffs when playing."),(0,o.kt)("p",null,"QB support is still a work in progress. You can stay tuned to Discord channels to know when it's out.")),(0,o.kt)(T,{value:"esx",label:"ESX",mdxType:"TabItem"},(0,o.kt)("p",null,"This resource is standalone, but to make the better compatibility in esx need some changes in others resource like HUD, inventory, health system and others stuffs when playing."),(0,o.kt)("p",null,"ESX support is still a work in progress. You can stay tuned to Discord channels to know when it's out."))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"how-to-add-a-new-map"},"How to add a new Map"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create a JSON file inside the ",(0,o.kt)("inlineCode",{parentName:"p"},"data/maps")," folder, for example, ",(0,o.kt)("inlineCode",{parentName:"p"},"data/maps/shop_02.json"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Start editing your map following the ",(0,o.kt)("a",{parentName:"p",href:"#map-file-structure"},(0,o.kt)("inlineCode",{parentName:"a"},"Map structure")),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Include your map in the ",(0,o.kt)("inlineCode",{parentName:"p"},"fxmanifest.lua"),", in the ",(0,o.kt)("inlineCode",{parentName:"p"},"include_maps")," section."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"include_maps {\n  'shop_01',\n  'shop_02' -- Registering new map\n}\n")),(0,o.kt)("h3",{id:"map-file-structure"},"Map file structure"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=shop_02.json",title:"shop_02.json"},'{\n  "id": "shop_02", // contains one indentifier (needs to be the same as the file name)\n  "type": "store", // contains one map type, see `How to add a new Map Type`\n  "cameras": [\n    {\n      "name": "DEFAULT_SCRIPTED_CAMERA",\n      "coords": { "x": 0.0, "y": 0.0, "z": 0.0 },\n      "rotation": { "x": 0.0, "y": 0.0, "z": 0.0 },\n      "fov": 65.0\n    }\n  ],\n  "weather": {\n    "schedules": [\n      { "hours": 15, "minutes": 0 },\n      { "hours": 21, "minutes": 0 }\n    ], // possible schedules (randomized)\n    "weathersType": ["RAIN", "CLEAR"] // possible weathers type\n  },\n  "vehicles": [\n    {\n      "model": "riot", // vehicle model (akuma, riot, etc)\n      "type": "automobile", // vehicle type (automobile, bike, boat, etc)\n      "coords": { "x": 0.0, "y": 0.0, "z": 0.0 }, // vehicle spawn coords\n      "heading": 0.0 // vehicle spawn heading\n    }\n  ],\n  "teams": [\n    {\n      "type": "COPS",\n      "spawn": [\n        {\n          "coords": { "x": 0.0, "y": 0.0, "z": 0.0 }, // player spawn coords\n          "heading": 0.0, // player spawn heading\n          "animation": {\n            "dictionary": "oddjobs@shop_robbery@rob_till",\n            "name": "loop",\n            "blendInSpeed": 4.0,\n            "blendOutSpeed": 4.0,\n            "flags": 1\n          } // animation is optional\n        }\n      ]\n    },\n    {\n      "type": "ROBBERS",\n      "spawn": [\n        {\n          "coords": { "x": 0.0, "y": 0.0, "z": 0.0 }, // player spawn coords\n          "heading": 0.0, // player spawn heading\n          "animation": {\n            "dictionary": "oddjobs@shop_robbery@rob_till",\n            "name": "loop",\n            "blendInSpeed": 4.0,\n            "blendOutSpeed": 4.0,\n            "flags": 1\n          } // animation is optional\n        }\n      ]\n    }\n  ]\n}\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"how-to-add-a-new-map-type"},"How to add a new Map Type"),(0,o.kt)("p",null,"Map types are used for filtering maps in the matchmaking system. Players can select an option and find a random map for their match."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("inlineCode",{parentName:"p"},"data/maps/")," and open ",(0,o.kt)("inlineCode",{parentName:"p"},"types.json"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add your map type configuration. Example:"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="types.json"',title:'"types.json"'},'{\n  "type": "jewelry", // Type used when declaring the map\n  "maxPlayersPerTeam": 6 // Max players per team\n}\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"how-to-add-new-weapons"},"How to add new Weapons"),(0,o.kt)("p",null,"You can add news weapons to the game."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add weapon icon inside folder ",(0,o.kt)("inlineCode",{parentName:"p"},"data/weapons/icons"),", example: ",(0,o.kt)("inlineCode",{parentName:"p"},"data/weapons/icons/weapon_dagger.png"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add weapon data in ",(0,o.kt)("inlineCode",{parentName:"p"},"data/weapons/weapons.json"),"."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="weapons.json"',title:'"weapons.json"'},'{\n  "id": "weapon_dagger", // weapon name\n  "type": "MELLE_WEAPON", // weapon type (MELLE_WEAPON, SHORT_WEAPON, LONG_WEAPON, THROWABLE, MISC)\n  "icon": "weapon_dagger.png" // icon filename added in `data/weapons/icons/`\n}\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"how-to-add-a-new-weapon-group"},"How to add a new Weapon Group"),(0,o.kt)("p",null,"Weapon groups declare the weapons that can be used in the match."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("inlineCode",{parentName:"p"},"data/weapons/groups")," folder and create a new json file.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add in json file your configuration, example:"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="pistol.json"',title:'"pistol.json"'},'{\n  "id": "pistol_rifle", // identifier (needs to be the same as filename)\n  "weapons": [\n    [\n      {\n        "id": "weapon_pistol", // weapon id defined in `data/weapons/weapons.json`.\n        "ammo": 200 // ammo (optional)\n      },\n      {\n        "id": "weapon_assaultrifle",\n        "ammo": 200\n      }\n    ]\n  ]\n}\n')),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Add your weapon group to be included in ",(0,o.kt)("inlineCode",{parentName:"li"},"fxmanifest.lua")," on ",(0,o.kt)("inlineCode",{parentName:"li"},"include_weapon_groups")," section.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'include_weapon_groups {\n  "pistol",\n  "rifle",\n  "pistol_rifle" -- Registering new weapon group\n}\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"how-to-add-a-new-outfit"},"How to add a new Outfit"),(0,o.kt)("p",null,"Outfits are used the define appearance of player according team type"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("inlineCode",{parentName:"p"},"data/outfits")," folder and create a new json file.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add in json file your configurations, example:"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="mp_male_cop_02.json"',title:'"mp_male_cop_02.json"'},'{\n  "type": "COPS", // team type to defined this outfit (COPS, ROBBERS)\n  "model": "mp_m_freemode_01", // ped model can use this outfit (mp_m_freemode_01, mp_f_freemode_01, ...)\n  "components": [\n    { "drawable": 52, "component_id": 1, "texture": 0 },\n    { "drawable": 17, "component_id": 3, "texture": 0 }\n  ],\n  "props": [\n    { "prop_id": 0, "drawable": 141, "index": 0 },\n    { "prop_id": 1, "drawable": 1, "index": 0 }\n  ]\n}\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"how-to-add-a-new-locale"},"How to add a new Locale"),(0,o.kt)("p",null,"Localization are used to all text in this resource."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("inlineCode",{parentName:"p"},"data/locales")," folder, and create a new json, with name to locale to be added.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Copy all content in ",(0,o.kt)("inlineCode",{parentName:"p"},"data/locales/en.json")," and paste it into the json file you created.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Start your translation."))),(0,o.kt)("p",null,"Also you can change the current locale in ",(0,o.kt)("inlineCode",{parentName:"p"},"config.lua"),", see ",(0,o.kt)("a",{parentName:"p",href:"#configuration"},(0,o.kt)("inlineCode",{parentName:"a"},"Configuration"))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"client-events"},"Client Events"),(0,o.kt)("h3",{id:"copsandrobbersmatchstart"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:matchStart")),(0,o.kt)("p",null,"Triggered when match started"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--- @table data\n--- @field mapId number\n--- @field teams table\n--- @field weaponGroup number\n--- @field weather table\n\nAddEventHandler("copsandrobbers:matchStarted", function(data)\n  print(json.encode(data))\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersmatchfinished"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:matchFinished")),(0,o.kt)("p",null,"Triggered when match finished"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--- @table data\n--- @field winnerTeamId number\n\nAddEventHandler("copsandrobbers:matchFinished", function(data)\n  print(json.encode(data))\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersroundstart"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:roundStart")),(0,o.kt)("p",null,"Triggered when round started"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--- @table data\n--- @field gameId number\n--- @field roundStartAt number\n--- @field roundEndAt number\n\nAddEventHandler("copsandrobbers:roundStart", function(data)\n  print(json.encode(data))\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersroundend"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:roundEnd")),(0,o.kt)("p",null,"Triggered when round end"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--- @table data\n--- @field winnerTeamId number\n--- @field reason enum(TeamExtermination = 1, Timeout = 2)\n\nAddEventHandler("copsandrobbers:roundEnd", function(data)\n  print(json.encode(data))\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersteamswap"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:teamSwap")),(0,o.kt)("p",null,"Triggered when swap teams"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'AddEventHandler("copsandrobbers:teamSwap", function() end)\n')),(0,o.kt)("h3",{id:"copsandrobbersplayerfataldamaged"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:playerFatalDamaged")),(0,o.kt)("p",null,"Triggered when local player dead"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'AddEventHandler("copsandrobbers:playerFatalDamaged", function(culpritServerId, assistServerId, weaponHash, wasHeadshot)\n  print(culpritServerId, assistServerId, weaponHash, wasHeadshot)\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersplayerrevive"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:playerRevive")),(0,o.kt)("p",null,"Triggered when local player revive"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'AddEventHandler("copsandrobbers:playerRevive", function() end)\n')),(0,o.kt)("h3",{id:"copsandrobbersstartspectating"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:startSpectating")),(0,o.kt)("p",null,"Triggered when start spectating"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'AddEventHandler("copsandrobbers:startSpectating", function() end)\n')),(0,o.kt)("h3",{id:"copsandrobbersstopspectating"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:stopSpectating")),(0,o.kt)("p",null,"Triggered when stop spectating"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'AddEventHandler("copsandrobbers:stopSpectating", function() end)\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"server-exports"},"Server exports"),(0,o.kt)("h3",{id:"getplayernamecallback"},(0,o.kt)("inlineCode",{parentName:"h3"},"getPlayerNameCallback")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"---@param fn A function that is executed when get player name\nexports['cops-and-robbers']:getPlayerNameCallback(function(playerServerId)\n  -- TODO\nend)\n")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"server-events"},"Server events"),(0,o.kt)("h3",{id:"copsandrobberscreatedmatch"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:createdMatch")),(0,o.kt)("p",null,"Triggered when one match is created"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'AddEventHandler("copsandrobbers:createdMatch", function(game)\n  print(json.encode(game))\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersmatchfinished-1"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:matchFinished")),(0,o.kt)("p",null,"Triggered when one match finish"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'AddEventHandler("copsandrobbers:matchFinished", function(game)\n  print(json.encode(game))\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersroundstart-1"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:roundStart")),(0,o.kt)("p",null,"Triggered when round start"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--- @table data\n--- @field gameId number\n--- @field roundStartAt number\n--- @field roundEndAt number\n\nAddEventHandler("copsandrobbers:roundStart", function(data)\n  print(json.encode(data))\nend)\n')),(0,o.kt)("h3",{id:"copsandrobbersroundend-1"},(0,o.kt)("inlineCode",{parentName:"h3"},"copsandrobbers:roundEnd")),(0,o.kt)("p",null,"Triggered when round end"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--- @table data\n--- @field gameId number\n--- @field winnerTeamId number\n--- @field reason enum(TeamExtermination = 1, Timeout = 2)\n\nAddEventHandler("copsandrobbers:roundEnd", function(data)\n  print(json.encode(data))\nend)\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"common-errors"},"Common errors"),(0,o.kt)("h3",{id:"error-parsing-script--failed-to-load-script"},"Error parsing script / Failed to load script"),(0,o.kt)("p",null,"Your server artifacts are likely outdated. Update your server to version 5181 or above."),(0,o.kt)("h3",{id:"you-lack-the-required-entitlement-to-use-cops-and-robbers"},"You lack the required entitlement to use cops-and-robbers"),(0,o.kt)("p",null,"Try restarting your server and make sure your server license key is correct. If you bought the resource on the wrong account, you can transfer it to another account on keymaster."),(0,o.kt)("h3",{id:"failed-to-verify-protected-resource"},"Failed to verify protected resource"),(0,o.kt)("p",null,"Files were possibly corrupted during transfer. Ensure hidden files are copied; the .fxap file in a protected resource must be included. Some FTP programs skip these files."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"credits"},"Credits"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/pedr0fontoura"},"pedr0fontoura")," for the help to develop this resource.")))}x.isMDXComponent=!0},9040:(e,n,a)=>{a.d(n,{Z:()=>t});const t=a.p+"assets/images/cops-and-robbers-banner-21532ccaf04df0e394a6d4bcc1b01c8b.png"}}]);